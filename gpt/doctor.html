<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AyurSutra - Doctor Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: {
                            50: '#fefdf8',
                            100: '#fef7e0',
                            200: '#fdeaa7',
                            300: '#fbdc6d',
                        },
                        sage: {
                            50: '#f6f7f0',
                            100: '#e8ede0',
                            200: '#d1dac2',
                            300: '#b3c49c',
                            400: '#8faa76',
                            500: '#6b8e4e',
                            600: '#567a3e',
                            700: '#456334',
                            800: '#39502c',
                            900: '#2d4024',
                        }
                    },
                    fontFamily: {
                        'serif': ['Playfair Display', 'serif'],
                        'body': ['Inter', 'sans-serif'],
                        'text': ['Crimson Text', 'serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #fefdf8 0%, #f6f7f0 50%, #e8ede0 100%);
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        @keyframes pulse-green {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 4px 10px rgba(34, 197, 94, 0.2);
            }
        }

        body {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
        }
        .page-content {
            display: none;
        }
        .page-content.active {
            display: block;
        }

        /* Cart Animation */
        .cart-bounce {
            animation: cartBounce 0.6s ease-out;
        }
        
        @keyframes cartBounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* Treatment Card Hover Effects */
        .treatment-card {
            transition: all 0.3s ease;
        }
        .treatment-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(107, 142, 78, 0.15);
        }

        /* Offer Badge Animation */
        .offer-badge {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #6b8e4e;
            border-radius: 3px;
        }

        header {
            background-color: #2b614d;
            backdrop-filter: blur(10px);
            color: #22543d;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Playfair Display', serif;
            position: sticky;
            top: 0;
            z-index: 50;
            box-shadow: 0 4px 10px rgba(34, 68, 61, 0.1);
            border-bottom: 1px solid #d9f5e3;
            transition: background 0.3s ease, box-shadow 0.3s ease;
            border-radius: 0 0 1rem 1rem;
        }

        header h1 {
            font-size: 2rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            color: #e8e8e8;
            cursor: default;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        header h1:hover {
            transform: scale(1.05);
            color: #38a169;
        }

        header .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        header button {
            background-color: #ffffff;
            color: #22543d;
            font-weight: 600;
            padding: 0.5rem 1.2rem;
            border-radius: 9999px;
            border: 1px solid #c6f6d5;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 2px 6px rgba(34,68,61,0.1);
        }
        header button:hover {
            background-color: #f0fff4;
            color: #22543d;
            box-shadow: 0 4px 12px rgba(34,68,61,0.15);
        }

        .cart-icon {
            position: relative;
            background-color: #567a3e;
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .cart-icon:hover {
            background-color: #456334;
            transform: scale(1.1);
        }
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #ef4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 1rem;
                gap: 0.5rem;
            }
            header h1 {
                font-size: 1.8rem;
            }
            header .header-actions {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body class="gradient-bg">

    <header>
        <h1>AyurSutra</h1>
        <div class="header-actions">
            <div class="cart-icon" id="cart-icon">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6H19" />
                </svg>
                <span class="cart-badge" id="cart-badge">0</span>
            </div>
            <button id="logout-button">Log Out</button>
        </div>
    </header>

    <main class="flex-1 p-6 md:p-12">
        <h2 class="text-4xl font-semibold text-sage-900 mb-8 font-serif text-center" id="page-title">Doctor Dashboard</h2>
        
        <div id="dashboard-section" class="page-content active">
            <div id="success-message" class="hidden bg-green-100 border border-green-300 text-green-700 px-4 py-3 rounded-lg text-center text-lg font-medium mb-8"></div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 lg:gap-8 max-w-6xl mx-auto">
                <button id="profile-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4a4 4 0 014 4 4 4 0 01-4 4 4 4 0 01-4-4 4 4 0 014-4zM4 16v.5c0 3.31 3.58 6 8 6s8-2.69 8-6v-.5c0-3.31-3.58-6-8-6s-8 2.69-8 6z"/></svg>
                    <span class="text-lg font-medium text-sage-800">My Profile</span>
                </button>
                
                <button id="treatments-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    <span class="text-lg font-medium text-sage-800">Treatments</span>
                </button>
                
                <button id="book-appointment-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M17 12h-2V7h2v5zm-4 5h-2v-5h2v5zm-4-10h-2v10h2V7zm-4 3h-2v7h2v-7zm14-3v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h3V1h2v2h4V1h2v2h3a2 2 0 012 2zM5 5h14v2H5V5zm14 4v10H5V9h14z"/></svg>
                    <span class="text-lg font-medium text-sage-800">Book Appointment</span>
                </button>
                
                <button id="appointments-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M12 11h-1a2 2 0 00-2 2v2a2 2 0 002 2h1a2 2 0 002-2v-2a2 2 0 00-2-2zM17 3h-1V1h-2v2H9V1H7v2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zM6 5h12v2H6V5zm12 16H6V9h12v12z"/></svg>
                    <span class="text-lg font-medium text-sage-800">My Appointments</span>
                </button>
                
                <button id="queue-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M17 13a5 5 0 00-5-5h-1a5 5 0 00-5 5v5a2 2 0 01-2 2H4a2 2 0 01-2-2v-5a7 7 0 017-7h1a7 7 0 017 7v5a2 2 0 01-2 2h-1a2 2 0 01-2-2v-5zM12 2a4 4 0 00-4 4v2a4 4 0 004 4 4 4 0 004-4V6a4 4 0 00-4-4z"/></svg>
                    <span class="text-lg font-medium text-sage-800">My Queue</span>
                </button>
                
                <button id="therapy-progress-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M16 11V7h5v4h-5zM3 13h10V3H3v10zm15 0h-2V7h2v6zm0 2h-2v2h2v-2zM3 15h10v2H3v-2zm0 4h10v2H3v-2zM21 7v10h-2v2h-2v-2h-2V7h6z"/></svg>
                    <span class="text-lg font-medium text-sage-800">My Plan</span>
                </button>
                
                <button id="data-visualization-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M19 14h-2a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2v5a2 2 0 01-2 2zM15 17a2 2 0 01-2 2H9a2 2 0 01-2-2v-5a2 2 0 012-2h2a2 2 0 012 2v5zM5 12a2 2 0 01-2-2V5a2 2 0 012-2h2a2 2 0 012 2v5a2 2 0 01-2 2H5z"/></svg>
                    <span class="text-lg font-medium text-sage-800">Progress Charts</span>
                </button>

                <button id="feedback-btn" class="flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-lg border border-sage-100 hover:bg-sage-50 transition transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-sage-700 mb-2" viewBox="0 0 24 24" fill="currentColor"><path d="M21 15c0 1.1-.9 2-2 2H7l-4 4V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v10zm-3-3V6H6v6h12z"/></svg>
                    <span class="text-lg font-medium text-sage-800">Feedback</span>
                </button>
            </div>
        </div>

        <div id="profile-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <div class="flex items-center space-x-6 mb-8">
                    <img src="https://via.placeholder.com/150x150.png?text=Profile" alt="User profile image" class="w-32 h-32 rounded-full object-cover border-4 border-sage-200">
                    <div>
                        <h3 class="text-3xl font-serif font-bold text-sage-900">John Doe</h3>
                        <p class="text-xl text-sage-600 font-body mt-1">Vata Dosha</p>
                    </div>
                </div>
                <div class="space-y-4">
                    <div class="bg-sage-50 p-4 rounded-xl">
                        <p class="font-semibold text-gray-700">Allergies:</p>
                        <p class="text-gray-600">Peanuts, Dairy</p>
                    </div>
                    <div class="bg-sage-50 p-4 rounded-xl">
                        <p class="font-semibold text-gray-700">Preferred Practitioner:</p>
                        <p class="text-gray-600">Dr. Anjali Verma</p>
                    </div>
                    <div class="bg-sage-50 p-4 rounded-xl">
                        <p class="font-semibold text-gray-700">Medical History:</p>
                        <p class="text-gray-600">Chronic back pain, Anxiety</p>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button id="profile-back-btn" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Back to Dashboard</button>
                </div>
            </div>
        </div>

        <div id="treatments-section" class="page-content">
            <div class="max-w-7xl mx-auto">
                <div class="mb-8 text-center">
                    <p class="text-xl text-sage-700 font-text">Discover our authentic Ayurvedic treatments designed to restore balance and vitality</p>
                </div>
                
                <div class="mb-8">
                    <div class="flex flex-wrap justify-center gap-4">
                        <button class="treatment-category px-6 py-3 bg-sage-600 text-white rounded-full font-medium transition hover:bg-sage-700" data-category="all">All Treatments</button>
                        <button class="treatment-category px-6 py-3 bg-sage-100 text-sage-700 rounded-full font-medium transition hover:bg-sage-200" data-category="panchakarma">Panchakarma</button>
                        <button class="treatment-category px-6 py-3 bg-sage-100 text-sage-700 rounded-full font-medium transition hover:bg-sage-200" data-category="massage">Massage Therapies</button>
                        <button class="treatment-category px-6 py-3 bg-sage-100 text-sage-700 rounded-full font-medium transition hover:bg-sage-200" data-category="consultation">Consultations</button>
                    </div>
                </div>

                <div id="treatments-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    </div>
            </div>
        </div>

        <div id="treatment-detail-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-3xl font-serif font-bold text-sage-900" id="detail-title"></h3>
                    <button id="back-to-treatments" class="px-4 py-2 text-sm bg-sage-100 text-sage-700 rounded-full hover:bg-sage-200 transition">Back to Treatments</button>
                </div>
                <div id="treatment-detail-content">
                    </div>
            </div>
        </div>

        <div id="cart-section" class="page-content max-w-2xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-6">Your Cart</h3>
                <div id="cart-items" class="space-y-4 mb-6">
                    </div>
                <div class="border-t border-sage-100 pt-4 flex justify-between items-center">
                    <span class="text-xl font-bold text-gray-800">Total:</span>
                    <span class="text-2xl font-bold text-sage-800" id="cart-total">₹0</span>
                </div>
                <div class="flex justify-between mt-6">
                    <button id="clear-cart-btn" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-full font-medium hover:bg-gray-300 transition">Clear Cart</button>
                    <button id="proceed-to-booking-btn" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition" disabled>Proceed to Booking</button>
                </div>
            </div>
        </div>

        <div id="book-appointment-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-6">Confirm Your Appointment</h3>
                <form id="booking-form" class="space-y-6">
                    <div>
                        <h4 class="text-xl font-semibold text-gray-800 mb-3">Selected Treatments:</h4>
                        <ul id="booking-treatments-list" class="space-y-2 text-gray-700">
                            </ul>
                    </div>
                    <div class="border-t border-sage-100 pt-4 flex justify-between items-center">
                        <span class="text-lg font-bold text-gray-800">Total Cost:</span>
                        <span class="text-2xl font-bold text-sage-800" id="booking-total">₹0</span>
                    </div>
                    <div>
                        <label for="center-select" class="block font-medium text-gray-700 mb-2">Ayurveda Center</label>
                        <select id="center-select" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage-200 transition">
                            <option value="Bangalore">Bangalore</option>
                            <option value="Chennai">Chennai</option>
                            <option value="Hyderabad">Hyderabad</option>
                        </select>
                    </div>
                    <div>
                        <label for="practitioner-select" class="block font-medium text-gray-700 mb-2">Practitioner (Optional)</label>
                        <select id="practitioner-select" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage-200 transition">
                            <option value="">No Preference</option>
                            <option value="Dr. Anjali Verma">Dr. Anjali Verma</option>
                            <option value="Dr. Rohan Gupta">Dr. Rohan Gupta</option>
                        </select>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label for="date-input" class="block font-medium text-gray-700 mb-2">Date</label>
                            <input type="date" id="date-input" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage-200 transition">
                        </div>
                        <div>
                            <label for="time-input" class="block font-medium text-gray-700 mb-2">Time</label>
                            <input type="time" id="time-input" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage-200 transition">
                        </div>
                    </div>
                    <div class="flex justify-end space-x-4">
                        <button type="button" id="book-close-btn" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-full font-medium hover:bg-gray-300 transition">Cancel</button>
                        <button type="submit" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Confirm Booking</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="appointments-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-6">Upcoming Appointments</h3>
                <div id="appointments-list" class="space-y-6">
                    </div>
                <div class="mt-8 text-center">
                    <button id="appointments-back-btn" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Back to Dashboard</button>
                </div>
            </div>
        </div>

        <div id="queue-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100 text-center">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-4">My Queue Status</h3>
                <div class="p-6 bg-sage-50 rounded-xl">
                    <p class="text-4xl font-bold text-sage-800 mb-2">Your position in the queue is:</p>
                    <p class="text-6xl font-extrabold text-sage-600 animate-pulse">3</p>
                </div>
                <p class="mt-4 text-gray-600">Please wait for your turn. You will be notified when the practitioner is ready.</p>
                <div class="mt-8">
                    <button id="queue-back-btn" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Back to Dashboard</button>
                </div>
            </div>
        </div>
        
        <div id="therapy-progress-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-6">My Therapy Plan</h3>
                <div class="space-y-6">
                    <div>
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">Progress Overview</h4>
                        <div class="bg-sage-50 rounded-full h-8 overflow-hidden">
                            <div class="bg-sage-600 h-full flex items-center justify-center text-white text-sm font-semibold transition-all duration-500" style="width: 75%;">
                                75% Complete
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">Treatment Guidelines</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Continue daily oil pulling with sesame oil.</li>
                            <li>Follow the recommended diet for your Dosha.</li>
                            <li>Practice 15 minutes of meditation in the morning.</li>
                            <li>Ensure you get 7-8 hours of sleep per night.</li>
                        </ul>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button id="therapy-back-btn" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Back to Dashboard</button>
                </div>
            </div>
        </div>
        
        <div id="data-visualization-section" class="page-content max-w-4xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-6">My Progress Charts</h3>
                <div class="chart-container h-80">
                    <canvas id="recoveryChart"></canvas>
                </div>
                <div class="mt-8 text-center">
                    <button id="chart-back-btn" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Back to Dashboard</button>
                </div>
            </div>
        </div>

        <div id="feedback-section" class="page-content max-w-2xl mx-auto">
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-sage-100">
                <h3 class="text-3xl font-serif font-bold text-sage-900 mb-6">Feedback & Symptoms</h3>
                <form id="feedback-form" class="space-y-6">
                    <div>
                        <label for="feedback-text" class="block font-medium text-gray-700 mb-2">General Feedback</label>
                        <textarea id="feedback-text" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage-200 transition" placeholder="Share your experience..."></textarea>
                    </div>
                    <div>
                        <label for="symptoms-text" class="block font-medium text-gray-700 mb-2">Report New Symptoms</label>
                        <textarea id="symptoms-text" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage-200 transition" placeholder="Describe any new symptoms you are experiencing..."></textarea>
                    </div>
                    <div class="flex justify-end space-x-4">
                        <button type="button" id="feedback-back-btn" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-full font-medium hover:bg-gray-300 transition">Cancel</button>
                        <button type="submit" class="px-6 py-3 bg-sage-600 text-white rounded-full font-medium hover:bg-sage-700 transition">Submit Feedback</button>
                    </div>
                </form>
            </div>
        </div>

    </main>

    <footer class="text-center py-8 text-gray-600 text-sm">
        &copy; 2025 AyurSutra. All rights reserved.
    </footer>

    <script>
        /* === Core Application Logic & State Management === */
        const treatments = [
            { id: 1, name: 'Shirodhara', category: 'panchakarma', price: 2500, duration: '60 min', image: 'https://via.placeholder.com/600x400.png?text=Shirodhara', description: 'A gentle stream of warm herbal oil poured continuously over the forehead to calm the nervous system and promote deep relaxation.' },
            { id: 2, name: 'Abhyanga', category: 'massage', price: 1800, duration: '60 min', image: 'https://via.placeholder.com/600x400.png?text=Abhyanga', description: 'A full-body massage using warm herbal oils to nourish the tissues, improve circulation, and remove toxins.' },
            { id: 3, name: 'Nasya', category: 'panchakarma', price: 1200, duration: '30 min', image: 'https://via.placeholder.com/600x400.png?text=Nasya', description: 'Nasal administration of herbal oils or powders to cleanse and purify the nasal passages, sinuses, and head.' },
            { id: 4, name: 'Virechana', category: 'panchakarma', price: 4000, duration: 'Session', image: 'https://via.placeholder.com/600x400.png?text=Virechana', description: 'Medically supervised purgation therapy to cleanse the gastrointestinal tract and liver.' },
            { id: 5, name: 'Kati Vasti', category: 'massage', price: 2000, duration: '45 min', image: 'https://via.placeholder.com/600x400.png?text=Kati+Vasti', description: 'Warm herbal oil is pooled over the lower back, providing relief from chronic back pain.' },
            { id: 6, name: 'Ayurvedic Diet Consultation', category: 'consultation', price: 800, duration: '30 min', image: 'https://via.placeholder.com/600x400.png?text=Diet+Consultation', description: 'Personalized dietary recommendations based on your unique dosha and health goals.' },
            { id: 7, name: 'Ayurvedic Lifestyle Consultation', category: 'consultation', price: 1000, duration: '45 min', image: 'https://via.placeholder.com/600x400.png?text=Lifestyle+Consultation', description: 'Comprehensive guidance on daily routines, exercise, and stress management according to Ayurvedic principles.' }
        ];

        let cart = [];
        let currentAppointments = [];

        /* === Helper Functions === */
        function showPage(pageId, title = '') {
            // Hide all page content sections
            document.querySelectorAll('.page-content').forEach(section => {
                section.classList.remove('active');
            });

            // Show the requested section and update page title
            const activePage = document.getElementById(pageId);
            if (activePage) {
                activePage.classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            
            const pageTitleElement = document.getElementById('page-title');
            if (pageTitleElement) {
                pageTitleElement.textContent = title;
            }
        }

        function updateCartBadge() {
            const badge = document.getElementById('cart-badge');
            badge.textContent = cart.length;
            badge.classList.add('cart-bounce');
            setTimeout(() => badge.classList.remove('cart-bounce'), 600);
        }

        function renderTreatments(filter = 'all') {
            const container = document.getElementById('treatments-grid');
            container.innerHTML = '';
            
            let filteredTreatments = treatments;
            if (filter !== 'all') {
                filteredTreatments = treatments.filter(t => t.category === filter);
            }

            filteredTreatments.forEach(treatment => {
                const card = document.createElement('div');
                card.className = 'treatment-card bg-white rounded-2xl shadow-md overflow-hidden flex flex-col cursor-pointer';
                card.innerHTML = `
                    <div class="relative w-full h-48 overflow-hidden">
                        <img src="${treatment.image}" alt="${treatment.name}" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6 flex-1">
                        <h3 class="text-2xl font-serif text-sage-900 mb-2">${treatment.name}</h3>
                        <p class="text-sage-500 font-body text-sm mb-2 uppercase">${treatment.category}</p>
                        <p class="text-gray-600 font-text leading-relaxed text-sm mb-4">${treatment.description}</p>
                    </div>
                    <div class="bg-sage-50 p-6 border-t border-sage-100 mt-auto flex justify-between items-center">
                        <span class="text-xl font-bold text-sage-800">₹${treatment.price}</span>
                        <button class="add-to-cart-btn bg-sage-600 text-white px-5 py-2 rounded-full font-medium text-sm hover:bg-sage-700 transition" data-id="${treatment.id}">Add to Cart</button>
                    </div>
                `;
                container.appendChild(card);
            });

            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevents the card click event
                    const id = parseInt(e.target.dataset.id);
                    const treatmentToAdd = treatments.find(t => t.id === id);
                    if (treatmentToAdd) {
                        cart.push(treatmentToAdd);
                        updateCartBadge();
                        renderCartItems();
                    }
                });
            });

            document.querySelectorAll('.treatment-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    const id = parseInt(card.querySelector('.add-to-cart-btn').dataset.id);
                    const treatmentDetail = treatments.find(t => t.id === id);
                    if (treatmentDetail) {
                        renderTreatmentDetail(treatmentDetail);
                        showPage('treatment-detail-section', treatmentDetail.name);
                    }
                });
            });
        }

        function renderTreatmentDetail(treatment) {
            const container = document.getElementById('treatment-detail-content');
            container.innerHTML = `
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="md:w-1/2">
                        <img src="${treatment.image}" alt="${treatment.name}" class="rounded-xl w-full object-cover">
                    </div>
                    <div class="flex-1 space-y-4">
                        <p class="text-sage-600 font-body text-md mb-2">${treatment.category.toUpperCase()}</p>
                        <p class="text-gray-700 font-text text-lg leading-relaxed">${treatment.description}</p>
                        <div class="flex items-center gap-4">
                            <span class="text-4xl font-bold text-sage-700">₹${treatment.price}</span>
                            <span class="text-gray-500 font-medium">${treatment.duration}</span>
                        </div>
                        <button id="add-from-detail" class="mt-4 px-8 py-3 bg-sage-600 text-white text-lg rounded-full font-semibold hover:bg-sage-700 transition">Add to Cart</button>
                    </div>
                </div>
            `;
            document.getElementById('add-from-detail').addEventListener('click', () => {
                cart.push(treatment);
                updateCartBadge();
                renderCartItems();
                alert(`${treatment.name} added to cart!`);
            });
        }

        function renderCartItems() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalElement = document.getElementById('cart-total');
            const bookingTreatmentsList = document.getElementById('booking-treatments-list');
            const bookingTotalElement = document.getElementById('booking-total');

            cartItemsContainer.innerHTML = '';
            bookingTreatmentsList.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-gray-500 text-center py-4">Your cart is empty.</p>';
                document.getElementById('proceed-to-booking-btn').disabled = true;
            } else {
                document.getElementById('proceed-to-booking-btn').disabled = false;
                cart.forEach((item, index) => {
                    const li = document.createElement('div');
                    li.className = 'flex justify-between items-center bg-gray-50 p-4 rounded-xl';
                    li.innerHTML = `
                        <div>
                            <span class="font-semibold text-gray-800">${item.name}</span>
                            <span class="text-sm text-gray-500 ml-2">(${item.duration})</span>
                        </div>
                        <div class="flex items-center">
                            <span class="font-bold text-sage-700 mr-4">₹${item.price}</span>
                            <button class="remove-from-cart-btn text-gray-400 hover:text-red-500 transition" data-index="${index}">&times;</button>
                        </div>
                    `;
                    cartItemsContainer.appendChild(li);
                    total += item.price;

                    const bookingItem = document.createElement('li');
                    bookingItem.className = 'flex justify-between items-center';
                    bookingItem.innerHTML = `<span class="text-gray-700">${item.name}</span><span class="font-semibold text-sage-600">₹${item.price}</span>`;
                    bookingTreatmentsList.appendChild(bookingItem);
                });
            }

            cartTotalElement.textContent = `₹${total}`;
            bookingTotalElement.textContent = `₹${total}`;
            updateCartBadge();

            document.querySelectorAll('.remove-from-cart-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const indexToRemove = parseInt(e.target.dataset.index);
                    cart.splice(indexToRemove, 1);
                    renderCartItems();
                });
            });
        }

        function renderAppointments() {
            const container = document.getElementById('appointments-list');
            container.innerHTML = '';

            if (currentAppointments.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">No upcoming appointments.</p>';
                return;
            }

            currentAppointments.forEach(appt => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-6 rounded-xl border border-sage-100 shadow-sm flex items-start space-x-4';
                card.innerHTML = `
                    <div class="bg-sage-100 p-3 rounded-full flex-shrink-0">
                        <svg class="h-6 w-6 text-sage-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                    </div>
                    <div class="flex-1">
                        <h4 class="text-lg font-semibold text-sage-800 mb-2">${appt.treatments.join(', ')}</h4>
                        <p class="text-gray-600"><span class="font-medium text-gray-700">Date:</span> ${appt.date}</p>
                        <p class="text-gray-600"><span class="font-medium text-gray-700">Time:</span> ${appt.time}</p>
                        <p class="text-gray-600"><span class="font-medium text-gray-700">Practitioner:</span> ${appt.practitioner}</p>
                        <p class="text-gray-600"><span class="font-medium text-gray-700">Center:</span> ${appt.center}</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function renderRecoveryChart() {
            const ctx = document.getElementById('recoveryChart').getContext('2d');
            
            const existingChart = Chart.getChart(ctx);
            if (existingChart) {
                existingChart.destroy();
            }
            
            const data = {
                labels: ['Session 1', 'Session 2', 'Session 3', 'Session 4'],
                datasets: [{
                    label: 'Symptom Reduction (%)',
                    data: [30, 50, 75, 90],
                    borderColor: 'rgb(107, 142, 78)',
                    backgroundColor: 'rgba(107, 142, 78, 0.2)',
                    tension: 0.4,
                    pointStyle: 'circle',
                    pointRadius: 6,
                    pointHoverRadius: 8
                }]
            };
            
            new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Symptom Reduction (%)'
                            }
                        }
                    }
                }
            });
        }

        /* === Event Listeners === */
        document.addEventListener('DOMContentLoaded', () => {
            // Initial setup
            showPage('dashboard-section', 'Doctor Dashboard');
            renderTreatments('all');
            renderCartItems();
        });

        // Navigation Buttons
        document.getElementById('profile-btn').addEventListener('click', () => showPage('profile-section', 'My Profile'));
        document.getElementById('treatments-btn').addEventListener('click', () => {
            showPage('treatments-section', 'Treatments Available');
            renderTreatments('all');
        });
        document.getElementById('book-appointment-btn').addEventListener('click', () => {
            showPage('book-appointment-section', 'Book Appointment');
            renderCartItems();
        });
        document.getElementById('appointments-btn').addEventListener('click', () => {
            showPage('appointments-section', 'My Appointments');
            renderAppointments();
        });
        document.getElementById('queue-btn').addEventListener('click', () => showPage('queue-section', 'My Queue'));
        document.getElementById('therapy-progress-btn').addEventListener('click', () => showPage('therapy-progress-section', 'My Plan'));
        document.getElementById('data-visualization-btn').addEventListener('click', () => {
            showPage('data-visualization-section', 'Progress Charts');
            renderRecoveryChart();
        });
        document.getElementById('feedback-btn').addEventListener('click', () => showPage('feedback-section', 'Feedback & Symptoms'));

        // Treatment category filters
        document.querySelectorAll('.treatment-category').forEach(button => {
            button.addEventListener('click', (e) => {
                const category = e.target.dataset.category;
                document.querySelectorAll('.treatment-category').forEach(btn => btn.classList.remove('bg-sage-600', 'text-white', 'hover:bg-sage-700'));
                document.querySelectorAll('.treatment-category').forEach(btn => btn.classList.add('bg-sage-100', 'text-sage-700', 'hover:bg-sage-200'));
                e.target.classList.remove('bg-sage-100', 'text-sage-700', 'hover:bg-sage-200');
                e.target.classList.add('bg-sage-600', 'text-white', 'hover:bg-sage-700');
                renderTreatments(category);
            });
        });

        // Other Navigation
        document.getElementById('cart-icon').addEventListener('click', () => {
            showPage('cart-section', 'Your Cart');
            renderCartItems();
        });
        document.getElementById('back-to-treatments').addEventListener('click', () => showPage('treatments-section', 'Treatments Available'));
        document.getElementById('proceed-to-booking-btn').addEventListener('click', () => {
            showPage('book-appointment-section', 'Book Appointment');
            renderCartItems();
        });
        document.getElementById('clear-cart-btn').addEventListener('click', () => {
            cart = [];
            renderCartItems();
            alert('Cart has been cleared.');
        });

        // Form Submissions
        document.getElementById('booking-form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const center = document.getElementById('center-select').value;
            const practitioner = document.getElementById('practitioner-select').value || 'No Preference';
            const date = document.getElementById('date-input').value;
            const time = document.getElementById('time-input').value;
            
            if (cart.length === 0) {
                alert('Please add treatments to your cart before booking.');
                return;
            }

            const newAppointment = {
                treatments: cart.map(t => t.name),
                date,
                time,
                practitioner,
                center
            };
            currentAppointments.push(newAppointment);

            const successMessage = document.getElementById('success-message');
            successMessage.innerHTML = `
                <p><strong>Booking Confirmed!</strong></p>
                <p>Your appointment for <strong>${newAppointment.treatments.join(', ')}</strong> on <strong>${date}</strong> at <strong>${time}</strong> has been successfully booked.</p>
            `;
            successMessage.classList.remove('hidden');

            cart = [];
            renderCartItems();
            showPage('dashboard-section', 'Doctor Dashboard');
        });

        document.getElementById('feedback-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Thank you for your feedback! It has been submitted.');
            document.getElementById('feedback-form').reset();
            showPage('dashboard-section', 'Doctor Dashboard');
        });

        // Logout and Back Buttons
        document.getElementById('logout-button').addEventListener('click', () => {
            if (confirm('Are you sure you want to log out?')) {
                alert('You have been logged out.');
                window.location.reload();
            }
        });

        document.getElementById('profile-back-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));
        document.getElementById('queue-back-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));
        document.getElementById('therapy-back-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));
        document.getElementById('chart-back-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));
        document.getElementById('feedback-back-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));
        document.getElementById('appointments-back-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));
        document.getElementById('book-close-btn').addEventListener('click', () => showPage('dashboard-section', 'Doctor Dashboard'));

    </script>
</body>
</html>